<section id="mission" class="section-content main-background-color">
  <img class="top-diagonal hidden-xs hidden-sm" src="media/img/top-diagonal.png" alt="">
  <div id="mission-animation">

  	<div class="container padding-top-50 padding-bottom-50">
  		<div class="row">
  			<div class="col-lg-12">
  				<h1 class="text-center">{{site.mission_title}}</h1>
  				<hr class="margin-bottom-50">
          <h2 class="text-center margin-bottom-50">
            {{site.mission_description}}
          </h2>
          <h2 id="mission-animation" class="text-center margin-bottom-10 padding-top-0">{{site.mission_subcopy}}</h2>
            {% for mission_item in site.mission_items %}
              <div class="mission-item-container">
                <div id="mission-color-block{{forloop.index}}" class="color-block">

                </div>
                <h2 id="mission-item-{{forloop.index}}"class="text-center margin-top-50 margin-bottom-30">
                  {{ mission_item.item }}
                </h2>
              </div>
            {% endfor%}
  			</div>
  		</div>
  	</div>
  </div>
</section>


<!-- Mission scroll animations -->
<script>
$(function() {
  var missionController = new ScrollMagic.Controller();
  var timeline1 = new TimelineMax();
  var timeline2 = new TimelineMax();
  var timeline3 = new TimelineMax();

  var missionTween1 = TweenMax.from('#mission-item-1', 0.3, {
    color: "#EEE",
    fontWeight: 600
  });
  var missionTween2 = TweenMax.from('#mission-item-2', 0.3, {
    color: "#EEE",
    fontWeight: 600
  });
  var missionTween3 = TweenMax.from('#mission-item-3', 0.3, {
    color: "#EEE",
    fontWeight: 600
  });

  var blockTween1 = TweenMax.to('#mission-color-block1', 0.3, {
    transform: "translateX(-1999px)"
  });
  var blockTween2 = TweenMax.to('#mission-color-block2', 0.3, {
    transform: "translateX(1999px)"
  });
  var blockTween3 = TweenMax.to('#mission-color-block3', 0.3, {
    transform: "translateX(-1999px)"
  });

  var scene1 = new ScrollMagic.Scene({
      triggerElement: '#mission-color-block1',
      offset: 200
    })
    .addTo(missionController)
  timeline1
  .add(blockTween1)
  .add(missionTween1)


  scene1.setTween(timeline1)
  scene1.addTo(missionController)
  var scene2 = new ScrollMagic.Scene({
      triggerElement: '#mission-color-block2',
      offset: 200
    })

  timeline2
  .add(blockTween2)
  .add(missionTween2)

  scene2.setTween(timeline2)
  scene2.addTo(missionController)

  var scene3 = new ScrollMagic.Scene({
      triggerElement: '#mission-color-block3',
      offset: 200
    }).setTween(missionTween3)

    timeline3
    .add(blockTween3)
    .add(missionTween3)
    scene3.setTween(timeline3)
    scene3.addTo(missionController)

    var missionModuleTween = TweenMax.from('#mission-animation', 0.5, {
      // transform: "translateY(-2000px)",
      opacity: 0
    });

    new ScrollMagic.Scene({
      triggerElement: '#mission',
      // reverse: false,
      offset: 0,
    })
    .setTween(missionModuleTween)
    .addTo(missionController)
})



</script>
